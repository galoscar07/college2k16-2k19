<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>ui.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
	<body onload="prettyPrint()">
        <h4></h4>
		<pre class="prettyprint lang-cpp linenums">
//
//  Ui.cpp
//  DSAProject
//
//  Created by Gal Oscar on 09/06/2017.
//  Copyright Â© 2017 Gal Oscar. All rights reserved.
//

#include "Ui.hpp"
#include &lt;iostream&gt;
#include &lt;fstream&gt;
using namespace std;

<span style = "background-color:#fdd">void Ui::readFromFile(){
    string fileName = "Words.txt";
    string line;
    ifstream file(fileName);
    if (!file.is_open()){
        cout &lt;&lt; "Something went wrong and the file wasn't open";
        return;</span>
    }
<span style = "background-color:#fdd">    while (getline(file, line)){</span>
        size_t found1, found2;
<span style = "background-color:#fdd">        string key, value;
        found1 = line.find("|");
        found2 = line.find("\n");
        key = line.substr(0,found1);
        value = line.substr(found1+1, found2);
        this-&gt;s.add(key, value);
    }
}</span>

void Ui::displayFromIt()
<span style = "background-color:#fdd">{
	Iterator it = this-&gt;s.iterator();
	while (it.valid() == true) {
		cout &lt;&lt; "Word: " &lt;&lt; it.getCurrent().key &lt;&lt; " -&gt; Meaning" &lt;&lt; it.getCurrent().value &lt;&lt; endl;
		it.next();
	}
}</span>

<span style = "background-color:#fdd">void Ui::printMenu(){
    cout &lt;&lt; "1 - Add a new word into the database" &lt;&lt; endl;
    cout &lt;&lt; "2 - Show a meaning of a word by its key" &lt;&lt; endl;
    cout &lt;&lt; "3 - Delete a word from the database" &lt;&lt; endl;
    cout &lt;&lt; "4 - Display the number of elements in the dictionary" &lt;&lt; endl;
	cout &lt;&lt; "5 - Display all words in the databse in alphabetically order" &lt;&lt; endl;
    cout &lt;&lt; "0 - Exit" &lt;&lt; endl;
}
void Ui::addWord(){
    cout &lt;&lt; "Enter the word (key): " &lt;&lt; endl;;
    string key;
    getline(cin, key);
    cout &lt;&lt; "Enter the definition of the word (value)" &lt;&lt; endl;
    string value;
    getline(cin, value);
    this-&gt;s.add(key, value);
}</span>

<span style = "background-color:#fdd">void Ui::removeWord(){
    cout &lt;&lt; "Enter the word (key): " &lt;&lt; endl;;
    string key;
    getline(cin, key);
    this-&gt;s.remove(key);
}</span>

<span style = "background-color:#fdd">void Ui::displayWord(){
    cout &lt;&lt; "Enter the word to receive a definition: " &lt;&lt; endl;
    string key;
    getline(cin,key);
    string value;
    value = this-&gt;s.search(key);
    if (value == "0"){
        cout &lt;&lt; "There is no such word in our database" &lt;&lt; endl;</span>
    }
<span style = "background-color:#fdd">    else {
        cout &lt;&lt; "For the given word: " &lt;&lt; key &lt;&lt; " the definition is: \n" &lt;&lt; value &lt;&lt; endl;</span>
    }
<span style = "background-color:#fdd">}</span>

<span style = "background-color:#fdd">void Ui::displayNoWord(){
    cout &lt;&lt; "The number of words in the database is : " &lt;&lt; this-&gt;s.size() &lt;&lt; endl;
}</span>


<span style = "background-color:#fdd">void Ui::run(){
    Ui::readFromFile();
    while (true){
        Ui::printMenu();
        int command{ 0 };
        cout &lt;&lt; "Input the command: ";
        cin &gt;&gt; command;
        cin.ignore();
        if (command == 0){
            cout &lt;&lt; "Thank you for using the program" &lt;&lt; endl;
            break;</span>
        }
<span style = "background-color:#fdd">        try {
            if (command == 1){
                Ui::addWord();</span>
            }
<span style = "background-color:#fdd">            if (command == 2){
                Ui::displayWord();</span>
            }
<span style = "background-color:#fdd">            if (command == 3){
                Ui::removeWord();</span>
            }
<span style = "background-color:#fdd">            if (command == 4){
                Ui::displayNoWord();</span>
            }
<span style = "background-color:#fdd">			if (command == 5) {
				Ui::displayFromIt();</span>
			}

        } catch (string &amp;e) {
<span style = "background-color:#fdd">            cout &lt;&lt; e &lt;&lt; endl;
        }
    }
}</span></pre>
	</body>
</html>